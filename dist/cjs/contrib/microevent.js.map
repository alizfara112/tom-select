{"version":3,"file":"microevent.js","sources":["../../../src/contrib/microevent.js"],"sourcesContent":["/**\n * MicroEvent - to make any js object an event emitter\n *\n * - pure javascript - server compatible, browser compatible\n * - dont rely on the browser doms\n * - super simple - you get it immediatly, no mistery, no magic involved\n *\n * @author Jerome Etienne (https://github.com/jeromeetienne)\n */\n\n\n/**\n * Execute callback for each event in space separated list of event names\n *\n */\nfunction forEvents(events,callback){\n\tevents.split(/\\s+/).forEach((event) =>{\n\t\tcallback(event);\n\t});\n}\n\nexport default class MicroEvent{\n\tconstructor(){\n\t\tthis._events = {};\n\t}\n\n\ton(events, fct){\n\t\tforEvents(events,(event) => {\n\t\t\tthis._events[event] = this._events[event] || [];\n\t\t\tthis._events[event].push(fct);\n\t\t});\n\t}\n\n\toff(events, fct){\n\t\tvar n = arguments.length;\n\t\tif( n === 0 ){\n\t\t\tthis._events = {};\n\t\t\treturn;\n\t\t}\n\n\t\tforEvents(events,(event) => {\n\n\t\t\tif (n === 1) return delete this._events[event];\n\n\t\t\tif (event in this._events === false) return;\n\t\t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n\t\t});\n\t}\n\n\ttrigger(events, ...args){\n\t\tvar self = this;\n\n\t\tforEvents(events,(event) => {\n\t\t\tif(event in self._events === false) return;\n\t\t\tfor( let fct of self._events[event] ){\n\t\t\t\tfct.apply(self,args );\n\t\t\t}\n\t\t});\n\t}\n};\n"],"names":["forEvents","events","callback","split","forEach","event","MicroEvent","constructor","_events","on","fct","push","off","n","arguments","length","splice","indexOf","trigger","args","self","apply"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA,SAASA,SAAT,CAAmBC,MAAnB,EAA0BC,QAA1B,EAAmC;AAClCD,EAAAA,MAAM,CAACE,KAAP,CAAa,KAAb,EAAoBC,OAApB,CAA6BC,KAAD,IAAU;AACrCH,IAAAA,QAAQ,CAACG,KAAD,CAAR;AACA,GAFD;AAGA;;AAEc,MAAMC,UAAN,CAAgB;AAC9BC,EAAAA,WAAW,GAAE;AACZ,SAAKC,OAAL,GAAe,EAAf;AACA;;AAEDC,EAAAA,EAAE,CAACR,MAAD,EAASS,GAAT,EAAa;AACdV,IAAAA,SAAS,CAACC,MAAD,EAASI,KAAD,IAAW;AAC3B,WAAKG,OAAL,CAAaH,KAAb,IAAsB,KAAKG,OAAL,CAAaH,KAAb,KAAuB,EAA7C;;AACA,WAAKG,OAAL,CAAaH,KAAb,EAAoBM,IAApB,CAAyBD,GAAzB;AACA,KAHQ,CAAT;AAIA;;AAEDE,EAAAA,GAAG,CAACX,MAAD,EAASS,GAAT,EAAa;AACf,QAAIG,CAAC,GAAGC,SAAS,CAACC,MAAlB;;AACA,QAAIF,CAAC,KAAK,CAAV,EAAa;AACZ,WAAKL,OAAL,GAAe,EAAf;AACA;AACA;;AAEDR,IAAAA,SAAS,CAACC,MAAD,EAASI,KAAD,IAAW;AAE3B,UAAIQ,CAAC,KAAK,CAAV,EAAa,OAAO,OAAO,KAAKL,OAAL,CAAaH,KAAb,CAAd;AAEb,UAAIA,KAAK,IAAI,KAAKG,OAAd,KAA0B,KAA9B,EAAqC;;AACrC,WAAKA,OAAL,CAAaH,KAAb,EAAoBW,MAApB,CAA2B,KAAKR,OAAL,CAAaH,KAAb,EAAoBY,OAApB,CAA4BP,GAA5B,CAA3B,EAA6D,CAA7D;AACA,KANQ,CAAT;AAOA;;AAEDQ,EAAAA,OAAO,CAACjB,MAAD,EAAS,GAAGkB,IAAZ,EAAiB;AACvB,QAAIC,IAAI,GAAG,IAAX;AAEApB,IAAAA,SAAS,CAACC,MAAD,EAASI,KAAD,IAAW;AAC3B,UAAGA,KAAK,IAAIe,IAAI,CAACZ,OAAd,KAA0B,KAA7B,EAAoC;;AACpC,WAAK,IAAIE,GAAT,IAAgBU,IAAI,CAACZ,OAAL,CAAaH,KAAb,CAAhB,EAAqC;AACpCK,QAAAA,GAAG,CAACW,KAAJ,CAAUD,IAAV,EAAeD,IAAf;AACA;AACD,KALQ,CAAT;AAMA;;AArC6B;;;;"}