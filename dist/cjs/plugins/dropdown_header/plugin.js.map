{"version":3,"file":"plugin.js","sources":["../../../../src/plugins/dropdown_header/plugin.ts"],"sourcesContent":["/**\n * Plugin: \"dropdown_header\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\n\nimport TomSelect from '../../tom-select.js';\nimport { getDom } from '../../vanilla';\nimport { preventDefault } from '../../utils';\n\n\nTomSelect.define('dropdown_header',function(options) {\n\tvar self = this;\n\n\toptions = Object.assign({\n\t\ttitle         : 'Untitled',\n\t\theaderClass   : 'dropdown-header',\n\t\ttitleRowClass : 'dropdown-header-title',\n\t\tlabelClass    : 'dropdown-header-label',\n\t\tcloseClass    : 'dropdown-header-close',\n\n\t\thtml: (data) => {\n\t\t\treturn (\n\t\t\t\t'<div class=\"' + data.headerClass + '\">' +\n\t\t\t\t\t'<div class=\"' + data.titleRowClass + '\">' +\n\t\t\t\t\t\t'<span class=\"' + data.labelClass + '\">' + data.title + '</span>' +\n\t\t\t\t\t\t'<a class=\"' + data.closeClass + '\">&times;</a>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</div>'\n\t\t\t);\n\t\t}\n\t}, options);\n\n\tself.hook('after','setup',()=>{\n\t\tvar header = getDom(options.html(options));\n\n\t\tvar close_link = header.querySelector('.'+options.closeClass);\n\t\tif( close_link ){\n\t\t\tclose_link.addEventListener('click',(evt)=>{\n\t\t\t\tpreventDefault(evt,true);\n\t\t\t\tself.close();\n\t\t\t});\n\t\t}\n\n\t\tself.dropdown.insertBefore(header, self.dropdown.firstChild);\n\t});\n\n});\n"],"names":["TomSelect","define","options","self","Object","assign","title","headerClass","titleRowClass","labelClass","closeClass","html","data","hook","header","getDom","close_link","querySelector","addEventListener","evt","preventDefault","close","dropdown","insertBefore","firstChild"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOAA,SAAS,CAACC,MAAV,CAAiB,iBAAjB,EAAmC,UAASC,OAAT,EAAkB;AACpD,MAAIC,IAAI,GAAG,IAAX;AAEAD,EAAAA,OAAO,GAAGE,MAAM,CAACC,MAAP,CAAc;AACvBC,IAAAA,KAAK,EAAW,UADO;AAEvBC,IAAAA,WAAW,EAAK,iBAFO;AAGvBC,IAAAA,aAAa,EAAG,uBAHO;AAIvBC,IAAAA,UAAU,EAAM,uBAJO;AAKvBC,IAAAA,UAAU,EAAM,uBALO;AAOvBC,IAAAA,IAAI,EAAGC,IAAD,IAAU;AACf,aACC,iBAAiBA,IAAI,CAACL,WAAtB,GAAoC,IAApC,GACC,cADD,GACkBK,IAAI,CAACJ,aADvB,GACuC,IADvC,GAEE,eAFF,GAEoBI,IAAI,CAACH,UAFzB,GAEsC,IAFtC,GAE6CG,IAAI,CAACN,KAFlD,GAE0D,SAF1D,GAGE,YAHF,GAGiBM,IAAI,CAACF,UAHtB,GAGmC,eAHnC,GAIC,QAJD,GAKA,QAND;AAQA;AAhBsB,GAAd,EAiBPR,OAjBO,CAAV;AAmBAC,EAAAA,IAAI,CAACU,IAAL,CAAU,OAAV,EAAkB,OAAlB,EAA0B,MAAI;AAC7B,QAAIC,MAAM,GAAGC,cAAM,CAACb,OAAO,CAACS,IAAR,CAAaT,OAAb,CAAD,CAAnB;AAEA,QAAIc,UAAU,GAAGF,MAAM,CAACG,aAAP,CAAqB,MAAIf,OAAO,CAACQ,UAAjC,CAAjB;;AACA,QAAIM,UAAJ,EAAgB;AACfA,MAAAA,UAAU,CAACE,gBAAX,CAA4B,OAA5B,EAAqCC,GAAD,IAAO;AAC1CC,QAAAA,oBAAc,CAACD,GAAD,EAAK,IAAL,CAAd;AACAhB,QAAAA,IAAI,CAACkB,KAAL;AACA,OAHD;AAIA;;AAEDlB,IAAAA,IAAI,CAACmB,QAAL,CAAcC,YAAd,CAA2BT,MAA3B,EAAmCX,IAAI,CAACmB,QAAL,CAAcE,UAAjD;AACA,GAZD;AAcA,CApCD;;"}