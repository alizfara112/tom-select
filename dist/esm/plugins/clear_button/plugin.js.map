{"version":3,"file":"plugin.js","sources":["../../../../src/plugins/clear_button/plugin.ts"],"sourcesContent":["/**\n * Plugin: \"dropdown_header\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\n\nimport TomSelect from '../../tom-select.js';\nimport { getDom } from '../../vanilla';\n\n\nTomSelect.define('clear_button',function(options) {\n\tvar self = this;\n\n\toptions = Object.assign({\n\t\tclassName: 'clear-button',\n\t\ttitle: 'Clear All',\n\t\thtml: (data) => {\n\t\t\treturn `<div class=\"${data.className}\" title=\"${data.title}\">&times;</div>`;\n\t\t}\n\t}, options);\n\n\tself.hook('after','setup',()=>{\n\t\tvar button = getDom(options.html(options));\n\t\tbutton.addEventListener('click',(evt)=>{\n\t\t\twhile( self.items.length > 0 ){\n\t\t\t\tself.removeItem(self.items[0],true);\n\t\t\t}\n\t\t\tself.updateOriginalInput();\n\t\t\tevt.preventDefault();\n\t\t\tevt.stopPropagation();\n\t\t});\n\t\tself.control.appendChild(button);\n\t});\n\n});\n"],"names":["TomSelect","define","options","self","Object","assign","className","title","html","data","hook","button","getDom","addEventListener","evt","items","length","removeItem","updateOriginalInput","preventDefault","stopPropagation","control","appendChild"],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMAA,SAAS,CAACC,MAAV,CAAiB,cAAjB,EAAgC,UAASC,OAAT,EAAkB;AACjD,MAAIC,IAAI,GAAG,IAAX;AAEAD,EAAAA,OAAO,GAAGE,MAAM,CAACC,MAAP,CAAc;AACvBC,IAAAA,SAAS,EAAE,cADY;AAEvBC,IAAAA,KAAK,EAAE,WAFgB;AAGvBC,IAAAA,IAAI,EAAGC,IAAD,IAAU;AACf,aAAQ,eAAcA,IAAI,CAACH,SAAU,YAAWG,IAAI,CAACF,KAAM,iBAA3D;AACA;AALsB,GAAd,EAMPL,OANO,CAAV;AAQAC,EAAAA,IAAI,CAACO,IAAL,CAAU,OAAV,EAAkB,OAAlB,EAA0B,MAAI;AAC7B,QAAIC,MAAM,GAAGC,MAAM,CAACV,OAAO,CAACM,IAAR,CAAaN,OAAb,CAAD,CAAnB;AACAS,IAAAA,MAAM,CAACE,gBAAP,CAAwB,OAAxB,EAAiCC,GAAD,IAAO;AACtC,aAAOX,IAAI,CAACY,KAAL,CAAWC,MAAX,GAAoB,CAA3B,EAA8B;AAC7Bb,QAAAA,IAAI,CAACc,UAAL,CAAgBd,IAAI,CAACY,KAAL,CAAW,CAAX,CAAhB,EAA8B,IAA9B;AACA;;AACDZ,MAAAA,IAAI,CAACe,mBAAL;AACAJ,MAAAA,GAAG,CAACK,cAAJ;AACAL,MAAAA,GAAG,CAACM,eAAJ;AACA,KAPD;AAQAjB,IAAAA,IAAI,CAACkB,OAAL,CAAaC,WAAb,CAAyBX,MAAzB;AACA,GAXD;AAaA,CAxBD"}