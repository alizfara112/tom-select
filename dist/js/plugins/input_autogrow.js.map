{"version":3,"file":"input_autogrow.js","sources":["../../../src/plugins/input_autogrow/plugin.js"],"sourcesContent":["/**\n * Plugin: \"input_autogrow\" (Tom Select)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nimport TomSelect from '../../tom-select.js';\n\nexport default TomSelect.define('input_autogrow', function(options) {\n\n\tvar self\t\t\t\t\t= this;\n\n\tself.hook('after','setup',function(){\n\n\n\t\tvar test_input\t\t\t\t= document.createElement('span');\n\t\tvar control\t\t\t\t\t= this.control_input;\n\t\ttest_input.style.position\t= 'absolute';\n\t\ttest_input.style.top\t\t= '-99999px';\n\t\ttest_input.style.left\t\t= '-99999px';\n\t\ttest_input.style.width\t\t= 'auto';\n\t\ttest_input.style.padding\t= 0;\n\t\ttest_input.style.whiteSpace\t= 'pre';\n\n\t\tself.wrapper.appendChild(test_input);\n\n\n\t\tvar transfer_styles\t\t\t= [ 'letterSpacing', 'fontSize', 'fontFamily', 'fontWeight', 'textTransform' ];\n\n\t\tfor( let i = 0, n = transfer_styles.length; i < n; i++ ){\n\t\t\tlet style_name = transfer_styles[i];\n\t\t\ttest_input.style[style_name] = control.style[style_name];\n\t\t}\n\n\n\t\t/**\n\t\t * Set the control width\n\t\t *\n\t\t * @param {string} str\n\t\t */\n\t\tvar resize = function(){\n\t\t\ttest_input.textContent\t= control.value;\n\t\t\tcontrol.style.width\t\t= test_input.clientWidth+'px';\n\t\t};\n\n\t\tcontrol.addEventListener('input', resize );\n\t\tcontrol.addEventListener('keyup', resize );\n\t\tcontrol.addEventListener('blur', resize );\n\t\tcontrol.addEventListener('update', resize );\n\t});\n\n});\n"],"names":["TomSelect","define","options","self","hook","test_input","document","createElement","control","control_input","style","position","top","left","width","padding","whiteSpace","wrapper","appendChild","transfer_styles","i","n","length","style_name","resize","textContent","value","clientWidth","addEventListener"],"mappings":";;;;;;;;;;;;;;;CAAA;;;;;;;;;;;;;AAeA,cAAeA,6BAAS,CAACC,MAAV,CAAiB,gBAAjB,EAAmC,UAASC,OAAT,EAAkB;CAEnE,MAAIC,IAAI,GAAO,IAAf;CAEAA,EAAAA,IAAI,CAACC,IAAL,CAAU,OAAV,EAAkB,OAAlB,EAA0B,YAAU;CAGnC,QAAIC,UAAU,GAAMC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAApB;CACA,QAAIC,OAAO,GAAO,KAAKC,aAAvB;CACAJ,IAAAA,UAAU,CAACK,KAAX,CAAiBC,QAAjB,GAA4B,UAA5B;CACAN,IAAAA,UAAU,CAACK,KAAX,CAAiBE,GAAjB,GAAwB,UAAxB;CACAP,IAAAA,UAAU,CAACK,KAAX,CAAiBG,IAAjB,GAAyB,UAAzB;CACAR,IAAAA,UAAU,CAACK,KAAX,CAAiBI,KAAjB,GAA0B,MAA1B;CACAT,IAAAA,UAAU,CAACK,KAAX,CAAiBK,OAAjB,GAA2B,CAA3B;CACAV,IAAAA,UAAU,CAACK,KAAX,CAAiBM,UAAjB,GAA8B,KAA9B;CAEAb,IAAAA,IAAI,CAACc,OAAL,CAAaC,WAAb,CAAyBb,UAAzB;CAGA,QAAIc,eAAe,GAAK,CAAE,eAAF,EAAmB,UAAnB,EAA+B,YAA/B,EAA6C,YAA7C,EAA2D,eAA3D,CAAxB;;CAEA,SAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGF,eAAe,CAACG,MAApC,EAA4CF,CAAC,GAAGC,CAAhD,EAAmDD,CAAC,EAApD,EAAwD;CACvD,UAAIG,UAAU,GAAGJ,eAAe,CAACC,CAAD,CAAhC;CACAf,MAAAA,UAAU,CAACK,KAAX,CAAiBa,UAAjB,IAA+Bf,OAAO,CAACE,KAAR,CAAca,UAAd,CAA/B;CACA;CAGD;;;;;;;CAKA,QAAIC,MAAM,GAAG,SAATA,MAAS,GAAU;CACtBnB,MAAAA,UAAU,CAACoB,WAAX,GAAyBjB,OAAO,CAACkB,KAAjC;CACAlB,MAAAA,OAAO,CAACE,KAAR,CAAcI,KAAd,GAAuBT,UAAU,CAACsB,WAAX,GAAuB,IAA9C;CACA,KAHD;;CAKAnB,IAAAA,OAAO,CAACoB,gBAAR,CAAyB,OAAzB,EAAkCJ,MAAlC;CACAhB,IAAAA,OAAO,CAACoB,gBAAR,CAAyB,OAAzB,EAAkCJ,MAAlC;CACAhB,IAAAA,OAAO,CAACoB,gBAAR,CAAyB,MAAzB,EAAiCJ,MAAjC;CACAhB,IAAAA,OAAO,CAACoB,gBAAR,CAAyB,QAAzB,EAAmCJ,MAAnC;CACA,GArCD;CAuCA,CA3Cc,CAAf;;;;;;;;"}